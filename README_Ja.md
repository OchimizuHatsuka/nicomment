# Nicomment

[**中文简体**](./README.md) | [**日本語**](./README_Ja.md)

日本人ではないので、不自然また間違い表現があるかもしれませんがご了承ください。日本語テキストを改善するためのPull Requestも歓迎します。

Nicommentは[ニコニコ動画](http://www.nicovideo.jp)のコメントをダウンロードするツールです。Electron + MaterialUI + TypeScriptで開発しました。[NicomentXenoglossia](http://xeno.grrr.jp)の作者様がすでにメンテナンスされなくなり、ほかにも簡単にニコ動のコメントを取れる方法がないようで、このツールを作りました。

## 使い方

まずこのツールを使ってコメントのダウンロードを行ってください。ダウンロードしたコメントデータはxmlファイルとして指定している位置に保存します。そして右上の<img src="./readmeAssets//baseline_subtitles_black_24dp.png" width="30px" align="middle" />ボタンをクリックしてコメント変換機能を使ってコメントデータのxmlファイルをass字幕に変換します。再生するには先ほどできたass拡張子の字幕ファイルをプレーヤーに読み込ませてニコ動のように動画といっしょに流れていたら完成です。使うプレーヤーソフトはwindowsでは[MPC-HC](https://mpc-hc.org)（パソコンでこれしか使ったことないから）、AndroidではMX PlayerとX Playerがおすすめです。個人的にいろいろ使ってみた結果によると、これらの動画プレーヤーにはass字幕の特殊効果（変形や座標移動など）の対応が比較的に良くて、パフォーマンスもわりと優れたほうなので、今お使いのプレーヤーがass字幕ファイルのコメントを再生する時に何か支障や不具合があったらこれらのプレーヤーを使ったほうがおすすめです。

ちなみに、上記のプレーヤーソフトは最適化をするため、すこし設定する必要があります。具体的な操作は下記のように：

 日本語の端末を持っていなくて、UI文字は中国語からそのまま翻訳したため、日本語のと違うかもしれません。

* MX Playerの場合：
  * 再生画面の右上に2番目のボタンをクリックする。そこで表示されたメニューで下の「カスタム」をクリックしてから、下にスライドして「高度設定」をクリックし、下の「SSA字幕のレンダリングを改善する」と「複雑スクリプトのレンダリングを改善する」をオンにする
  * 再生画面の右上に3番目のボタンをクリックして、ソフトウェアデコーダーを選ぶ
* X Playerの場合：
  * 再生画面の一番右上のボタンをクリックしいて、そこで表示されたメニューでデコーダーの項目の下にハードウェアデコーダーを選ぶ

端末のスペックによってコメントや画面また音声の遅延が発生する場合があります。

## 注意事項

* ニコ動をアクセス可能かつ公式チャンネルアニメを視聴できるネット環境で実行してください。VPNを使う場合は、確実の「グローバルプロキシ」の状態かどうかをチェックしてください。ブラウザでしかアクセスできない状態はグローバルプロキシではありません。プロキシサーバーを使う場合は「プロキシ設定」でサーバーのURLなどの情報を記入してから使ってください。チャンネルアニメを視聴できないのは、使っているVPNまたプロキシサービスはネイティブの日本IPではない可能性があります。
* 当ソフトでログインした後、たまにブラウザでのログイン状態がオフラインになります。短時間の間に頻繁にログインするとアカウントがロックされる恐れがありますのでご注意ください。ロックされる場合は、ブラウザでニコ動にアクセスし、ヒントに従ってパスワードをリセットすればロック状態が解除できるのです。**アカウントに対する他に影響のないことは保証できません**
* 当ソフトはアカウントとパスワードを含めて個人情報を収集することは一切行いません。
* 最近ニコニコが非公式サイトのログインをチェックし始めました。当ソフトを利用した後、公式サイトにアクセスする時にページの上では「他社流出パスワードを用いた不正ログインについて」のような赤いメッセージが表示されることがありますが、ご心配は要りません。


## TODO

* 動画のダウンロード

